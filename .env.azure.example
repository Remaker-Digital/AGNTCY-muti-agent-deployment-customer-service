# AGNTCY Console - Azure Backend Connection Configuration
# =========================================================================
# This configuration connects your LOCAL development console to the
# Azure-deployed backend services for Phase 4-5 testing and validation.
#
# Copy this file to .env.azure and fill in your actual values.
# NEVER commit .env.azure to Git - it contains secrets!
# =========================================================================

# =========================================================================
# LOCAL CONSOLE SETTINGS
# =========================================================================

# Project identification
PROJECT_NAME=agntcy-customer-service
ENVIRONMENT=azure-connected
LOG_LEVEL=INFO

# Local console port (Streamlit)
CONSOLE_PORT=8080

# =========================================================================
# AZURE OPENAI SERVICE (Required for AI responses)
# =========================================================================
# These credentials connect directly to Azure OpenAI for AI-powered responses.
# Get from: Azure Portal > OpenAI Resource > Keys and Endpoint
# Sign up: https://portal.azure.com + https://aka.ms/oai/access

AZURE_OPENAI_ENDPOINT=https://myoairesource3aa68d.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Model deployments (as configured in Azure OpenAI Studio)
AZURE_OPENAI_GPT4O_MINI_DEPLOYMENT=gpt-4o-mini
AZURE_OPENAI_GPT4O_DEPLOYMENT=gpt-4o
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-large

# =========================================================================
# AZURE COSMOS DB (Optional - for production data access)
# =========================================================================
# These connect to the Azure Cosmos DB for session/message persistence.
# Get from: Azure Portal > Cosmos DB > Keys
# Connection requires VPN/private network access to Azure VNet.

# COSMOS_DB_ENDPOINT=https://cosmos-agntcy-cs-prod-rc6vcp.documents.azure.com:443/
# COSMOS_DB_KEY=your-cosmos-key-here
# COSMOS_DB_DATABASE=conversations

# =========================================================================
# AZURE KEY VAULT (Optional - for secret retrieval)
# =========================================================================
# Key Vault URL for retrieving secrets programmatically.
# Get from: Azure Portal > Key Vault > Properties > Vault URI

# AZURE_KEY_VAULT_URL=https://kv-agntcy-cs-prod-rc6vcp.vault.azure.net/

# =========================================================================
# AZURE APPLICATION INSIGHTS (Optional - for distributed tracing)
# =========================================================================
# Sends OpenTelemetry traces to Azure Application Insights.
# Get from: Azure Portal > Application Insights > Connection String

# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=...
# AGNTCY_ENABLE_TRACING=true

# =========================================================================
# AZURE CONTAINER NETWORK (Reference Only - Not Directly Accessible)
# =========================================================================
# These are the private IPs of Azure Container Instances in the VNet.
# Direct access requires VPN/ExpressRoute to Azure VNet (10.0.1.0/24).
#
# SLIM_ENDPOINT=http://10.0.1.4:8443      # SLIM Gateway
# NATS_ENDPOINT=10.0.1.5:4222             # NATS JetStream
# INTENT_AGENT_IP=10.0.1.10               # Intent Classification
# KNOWLEDGE_AGENT_IP=10.0.1.6             # Knowledge Retrieval
# RESPONSE_AGENT_IP=10.0.1.8              # Response Generator
# ESCALATION_AGENT_IP=10.0.1.11           # Escalation Handler
# ANALYTICS_AGENT_IP=10.0.1.9             # Analytics Collector
# CRITIC_AGENT_IP=10.0.1.7                # Critic/Supervisor
#
# NOTE: For Phase 5, an Application Gateway will provide public HTTPS access.

# =========================================================================
# LOCAL MOCK SERVICES (Fallback when Azure not accessible)
# =========================================================================
# The console automatically falls back to local mocks if Azure is unavailable.
# Start local mocks: docker-compose up -d mock-shopify mock-zendesk

MOCK_SHOPIFY_URL=http://localhost:8001
MOCK_ZENDESK_URL=http://localhost:8002
MOCK_MAILCHIMP_URL=http://localhost:8003
MOCK_GOOGLE_ANALYTICS_URL=http://localhost:8004

# =========================================================================
# BUDGET MONITORING
# =========================================================================
# Monthly budget limits for cost awareness in the console.

PHASE5_BUDGET_LIMIT=360.00
PHASE5_ALERT_THRESHOLD=0.83

# =========================================================================
# NOTES
# =========================================================================
#
# CONNECTION OPTIONS:
#
# 1. AZURE OPENAI ONLY (Recommended for Phase 5 testing)
#    - Set AZURE_OPENAI_* variables
#    - Console runs AI pipeline locally using Azure OpenAI API
#    - No VPN required, works from any network
#    - Cost: ~$0.01-0.05 per conversation
#
# 2. FULL AZURE BACKEND (Advanced, requires network setup)
#    - Requires VPN/ExpressRoute to Azure VNet (10.0.0.0/16)
#    - Configure VPN: Azure Portal > Virtual Network Gateway
#    - Set SLIM_ENDPOINT to http://10.0.1.4:8443
#    - Full production backend with all agents
#
# 3. HYBRID MODE (Future Phase 5)
#    - Application Gateway provides public HTTPS endpoint
#    - Console connects via public URL
#    - No VPN required
#
# GETTING STARTED:
#
# 1. Copy this file: cp .env.azure.example .env.azure
# 2. Set AZURE_OPENAI_* credentials
# 3. Run: python -m console.app --env .env.azure
#    Or: set DOTENV_FILE=.env.azure && streamlit run console/app.py
#
# =========================================================================
